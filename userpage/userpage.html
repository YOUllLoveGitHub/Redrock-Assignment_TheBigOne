<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="../css/userpage.css">
    <title>我的首页</title>
</head>

<body>
    <header>
        <div class="f_l">
            <div id="top_list">
                <ul class="nav-list" id="first_list">
                    <li class="f_l"><a target="_blank" href="/" ga_event="mh_channel_recommend">推荐</a> </li>
                    <li class="f_l"><a target="_blank" href="/ch/news_hot/" ga_event="mh_channel_hot">热点</a></li>
                    <li class="f_l"><a target="_blank" href="/ch/video/" ga_event="mh_channel_video">视频</a></li>
                    <li class="f_l"><a target="_blank" href="/ch/news_image/" ga_event="mh_channel_image">图片</a> </li>
                    <li class="f_l"><a target="_blank" href="/ch/essay_joke/" ga_event="mh_channel_essay">段子</a> </li>
                    <li class="f_l"><a target="_blank" href="/ch/news_entertainment/" ga_event="mh_channel_entertainment">娱乐</a> </li>
                    <li class="f_l"><a target="_blank" href="/ch/news_tech/" ga_event="mh_channel_tech">科技</a> </li>
                    <li class="f_l"><a target="_blank" href="/ch/news_car/" ga_event="mh_channel_car">汽车</a></li>
                    <li class="f_l"><a target="_blank" href="/ch/news_sports/" ga_event="mh_channel_sports">体育</a> </li>
                    <li class="f_l"><a target="_blank" href="/ch/news_finance/" ga_event="mh_channel_finance">财经</a> </li>
                    <li class="f_l"><a target="_blank" href="/ch/news_military/" ga_event="mh_channel_military">军事</a> </li>
                    <li class="f_l"><a target="_blank" href="/ch/news_world/" ga_event="mh_channel_world">国际</a> </li>
                    <li class="f_l"><a target="_blank" href="/ch/news_fashion/" ga_event="mh_channel_fashion">时尚</a> </li>
                    <li class="f_l"><a target="_blank" href="/ch/news_travel/" ga_e>旅游</a> </li>
                    <li class="more_list f_l pointer relative_p">更多
                        <div class="nav-layer p_change">
                            <ul class="nav_more">
                                <li class="nav-more-item"> <a target="_blank" href="/ch/news_discovery/" ga_event="mh_channel_discovery">探索</a> </li>
                                <li class="nav-more-item"> <a target="_blank" href="/ch/news_baby/" ga_event="mh_channel_baby">育儿</a> </li>
                                <li class="nav-more-item"> <a target="_blank" href="/ch/news_regimen/" ga_event="mh_channel_regimen">养生</a> </li>
                                <li class="nav-more-item"> <a target="_blank" href="/ch/news_essay/" ga_event="mh_channel_essay">美文</a> </li>
                                <li class="nav-more-item"> <a target="_blank" href="/ch/news_game/" ga_event="mh_channel_game">游戏</a> </li>
                                <li class="nav-more-item"> <a target="_blank" href="/ch/news_history/" ga_event="mh_channel_history">历史</a> </li>
                                <li class="nav-more-item"> <a target="_blank" href="/ch/news_food/" ga_event="mh_channel_food">美食</a> </li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
        <div>
            <div>
                <ul class="right_list f_r">
                    <li id="user_box" class="more_list">
                        <div>
                            <div>
                                <div class="user_name">
                                    <a class="user_head relative_p" target="_blank" href="//www.toutiao.com/c/user/84497756146/">
                                        <span id="replace_up"></span></a>
                                    <div class="user_layer p_change">
                                        <ul>
                                            <li><a target="_blank" href="//www.toutiao.com/c/user/84497756146/?tab=favourite">我的收藏</a></li>
                                            <li><a target="_blank" href="//www.toutiao.com/c/user/relation/84497756146/?tab=following">我的关注</a></li>
                                            <li><a target="_blank" href="//www.toutiao.com/c/user/relation/84497756146/?tab=followed">我的粉丝</a></li>
                                            <li> <a href="https://sso.toutiao.com/logout/" rel="nofollow">退出</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li> <a href="javascript:void(0)">反馈</a> </li>
                    <li> <a href="https://mp.toutiao.com/profile_introduction/infringement/complain" target="_blank">投诉侵权</a></li>
                    <li class="more_list relative_p"> <a href="#">头条产品</a>
                        <div class="layer p_change">
                            <ul>
                                <li><a href="https://www.wukong.com" target="_blank">问答</a></li>
                                <li><a href="https://mp.toutiao.com/" target="_blank">头条号</a></li>
                                <li><a href="https://tuchong.com/" target="_blank">图虫</a></li>
                                <li><a href="https://stock.tuchong.com/?source=ttweb" target="_blank">正版图库</a></li>
                                <li><a href="https://ad.toutiao.com/promotion/?source2=pchometop" target="_blank">广告投放</a></li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </header>
    <div id="sceond_header">
        <div>
            <div class="f_l">
                <img src="../images/logo.png" alt="今日头条">
            </div>
        </div>
    </div>
    <main>
        <div id="info_box">
            <div id="background_box">
                <img src="img/back_ground.png" id="background_img">
            </div>
            <div id="user_info">
                <img src="img/index.jpg" id="head_icon">
                <ul>
                    <li id="re_user_name"></li>
                    <li></li>
                </ul>
                <div id="up_button">
                    <span>
                        发布微头条
                    </span>
                </div>
            </div>
        </div>
        <div id="comm_box">
            <div id="comm_nav">
                <span>评论</span>
            </div>
            <div id="comm_content">
                <ul id="comm_ul">
<!--                     <li class="comm_li">
                        <div class="comm_li_container">
                            <p class="comm_li_cont">rubbish.</p>
                        </div>
                        <div class="com_new">
                            <a href="">aaa</a>
                        </div>
                    </li> -->
                </ul>
            </div>
        </div>
    </main>
    <script type="text/javascript">
    function addComment(content,news){
        var li = document.createElement("li");
        li.setAttribute("class","comm_li")
        var div_01 = document.createElement("div");
        var div_02 = document.createElement("div");
        var p = document.createElement("p");
        var a = document.createElement("a");
        div_01.setAttribute("class","comm_li_container");
        div_02.setAttribute("class","com_new");
        p.setAttribute("class","comm_li_cont");
        p.innerText = content;
        a.innerText = news;
        div_02.appendChild(a);
        div_01.appendChild(p);
        li.appendChild(div_01);
        li.appendChild(div_02);
        var ul = document.querySelector("#comm_ul");
        ul.appendChild(li);
    }

    function getInfo() {
        var xhr = new XMLHttpRequest;
        xhr.onreadystatechange = function() {
            if (xhr.readyState == 4 && xhr.status == 200 || xhr.status == 304) {
                var jarr = JSON.parse(xhr.responseText);
                var name;
                var head_flag;
                if (jarr[0].nick_name == "") {
                    name = jarr[0].name;
                } else {
                    name = jarr[0].nick_name;
                }
                if (jarr[0].head_img != "") {
                    head_flag = true;
                } else {
                    name = jarr[0].nick_name;
                }
                var re_node = document.querySelector("#replace_up");
                re_node.innerText = name;
                re_node = document.querySelector("#re_user_name");
                re_node.innerText = name;
                if (head_flag) {
                    re_node = document.querySelector("#head_icon");
                    re_node.src = jarr[0].head_img;
                }
                var length = jarr[0].comments.length;
                for(var i = 0; i<length; i++){
                    addComment(jarr[0].comments[i].comm,jarr[0].comments[i].from_news);
                }
            }
        }
        xhr.open("GET", "../getInfo", true);
        xhr.send();
    }

    function addEvent() {
        getInfo();
    }
    window.onload = addEvent;
    </script>
</body>

</html>